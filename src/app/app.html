<div class="container">
  <div class="card">
    <h1 class="main-title">Angular Request</h1>
    <p class="main-desc">
      This app allows you to test an API endpoint by sending a message and
      viewing the response in a modal popup.<br />
      <strong>How it works:</strong>
    </p>

    <ul style="margin: 0.5rem 0 1.5rem 1.2rem">
      <li>Enter a message in the input box below.</li>
      <li>Click <b>Send</b> to POST your message to the API endpoint.</li>
      <li>
        The request includes a required header: <code>sendthis: 123Lucas</code>.
      </li>
      <li>
        The API's <code>returnMessage</code> is displayed in a modal until you
        dismiss it.
      </li>
      <li>
        CORS is required on the backend for <code>https://*</code>,
        <code>http://localhost:4200</code>, and
        <code>http://localhost:8100</code>.
      </li>
    </ul>
    <form
      (ngSubmit)="submit()"
      #f="ngForm"
      class="api-form"
    >
      <input
        type="text"
        [(ngModel)]="inputText"
        name="inputText"
        required
        placeholder="Enter message"
        [disabled]="loading"
        class="api-input"
      />
      <button
        type="submit"
        [disabled]="loading || !inputText.trim()"
        class="api-btn"
      >
        {{ loading ? 'Sending...' : 'Send' }}
      </button>
    </form>
  </div>
</div>

<!-- Modal -->
<div
  *ngIf="popupMessage"
  class="modal-overlay"
>
  <div class="modal-content">
    <div class="modal-message">{{ popupMessage }}</div>
    <button
      (click)="dismissPopup()"
      class="modal-btn"
    >
      Dismiss
    </button>
  </div>
</div>
